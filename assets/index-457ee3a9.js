import{r as s,a as T,o as K,c as G,j as R,ab as X,a1 as q}from"./index-7e4a4b07.js";import{C as J}from"./index-93b69565.js";import{u as A}from"./index-b79aaa5f.js";var Q=globalThis&&globalThis.__rest||function(a,i){var o={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&i.indexOf(e)<0&&(o[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(a);n<e.length;n++)i.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(o[e[n]]=a[e[n]]);return o};const D=s.createContext(null),U=(a,i)=>{var{defaultValue:o,children:e,options:n=[],prefixCls:E,className:m,rootClassName:C,style:P,onChange:v}=a,u=Q(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]);const{getPrefixCls:g,direction:w}=s.useContext(T),[r,h]=s.useState(u.value||o||[]),[I,t]=s.useState([]);s.useEffect(()=>{"value"in u&&h(u.value||[])},[u.value]);const y=()=>n.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),N=l=>{t(f=>f.filter(p=>p!==l))},O=l=>{t(f=>[].concat(R(f),[l]))},b=l=>{const f=r.indexOf(l.value),p=R(r);f===-1?p.push(l.value):p.splice(f,1),"value"in u||h(p);const M=y();v?.(p.filter(j=>I.includes(j)).sort((j,B)=>{const F=M.findIndex(_=>_.value===j),H=M.findIndex(_=>_.value===B);return F-H}))},c=g("checkbox",E),x=`${c}-group`,[k,d]=A(c),S=K(u,["value","disabled"]);n&&n.length>0&&(e=y().map(l=>s.createElement(L,{prefixCls:c,key:l.value.toString(),disabled:"disabled"in l?l.disabled:u.disabled,value:l.value,checked:r.includes(l.value),onChange:l.onChange,className:`${x}-item`,style:l.style},l.label)));const V={toggleOption:b,value:r,disabled:u.disabled,name:u.name,registerValue:O,cancelValue:N},$=G(x,{[`${x}-rtl`]:w==="rtl"},m,C,d);return k(s.createElement("div",Object.assign({className:$,style:P},S,{ref:i}),s.createElement(D.Provider,{value:V},e)))},W=s.forwardRef(U),Y=s.memo(W);var Z=globalThis&&globalThis.__rest||function(a,i){var o={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&i.indexOf(e)<0&&(o[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(a);n<e.length;n++)i.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(o[e[n]]=a[e[n]]);return o};const ee=(a,i)=>{var o,{prefixCls:e,className:n,rootClassName:E,children:m,indeterminate:C=!1,style:P,onMouseEnter:v,onMouseLeave:u,skipGroup:g=!1,disabled:w}=a,r=Z(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]);const{getPrefixCls:h,direction:I}=s.useContext(T),t=s.useContext(D),{isFormItemInput:y}=s.useContext(X),N=s.useContext(q),O=(o=t?.disabled||w)!==null&&o!==void 0?o:N,b=s.useRef(r.value);s.useEffect(()=>{t?.registerValue(r.value)},[]),s.useEffect(()=>{if(!g)return r.value!==b.current&&(t?.cancelValue(b.current),t?.registerValue(r.value),b.current=r.value),()=>t?.cancelValue(r.value)},[r.value]);const c=h("checkbox",e),[x,k]=A(c),d=Object.assign({},r);t&&!g&&(d.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:m,value:r.value})},d.name=t.name,d.checked=t.value.includes(r.value));const S=G({[`${c}-wrapper`]:!0,[`${c}-rtl`]:I==="rtl",[`${c}-wrapper-checked`]:d.checked,[`${c}-wrapper-disabled`]:O,[`${c}-wrapper-in-form-item`]:y},n,E,k),V=G({[`${c}-indeterminate`]:C},k),$=C?"mixed":void 0;return x(s.createElement("label",{className:S,style:P,onMouseEnter:v,onMouseLeave:u},s.createElement(J,Object.assign({"aria-checked":$},d,{prefixCls:c,className:V,disabled:O,ref:i})),m!==void 0&&s.createElement("span",null,m)))},te=s.forwardRef(ee),L=te,z=L;z.Group=Y;z.__ANT_CHECKBOX=!0;export{z as default};
