import{r as n,s as F,c as I,y as $,ag as ke,q as le,b as se,a4 as $e,v as ce,x as re,ak as de,a6 as Ee,d as Ne,g as De,m as Me,a as he,N as Oe,G as ue}from"./index-7e4a4b07.js";import{N as Pe}from"./Compact-a8ad6370.js";var me=n.createContext(null),Ie=function(t){var o=t.prefixCls,a=t.className,r=t.style,d=t.children,s=t.containerRef,l=t.onMouseEnter,i=t.onMouseOver,m=t.onMouseLeave,f=t.onClick,v=t.onKeyDown,p=t.onKeyUp,y={onMouseEnter:l,onMouseOver:i,onMouseLeave:m,onClick:f,onKeyDown:v,onKeyUp:p};return n.createElement(n.Fragment,null,n.createElement("div",F({className:I("".concat(o,"-content"),a),style:$({},r),"aria-modal":"true",role:"dialog",ref:s},y),d))};function fe(e){return typeof e=="string"&&String(Number(e))===e?(ke(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ve={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Ke(e,t){var o,a,r,d,s=e.prefixCls,l=e.open,i=e.placement,m=e.inline,f=e.push,v=e.forceRender,p=e.autoFocus,y=e.keyboard,C=e.rootClassName,w=e.rootStyle,b=e.zIndex,D=e.className,g=e.style,S=e.motion,k=e.width,x=e.height,H=e.children,U=e.contentWrapperStyle,W=e.mask,T=e.maskClosable,X=e.maskMotion,Y=e.maskClassName,V=e.maskStyle,K=e.afterOpenChange,M=e.onClose,q=e.onMouseEnter,J=e.onMouseOver,j=e.onMouseLeave,Q=e.onClick,Z=e.onKeyDown,E=e.onKeyUp,R=n.useRef(),N=n.useRef(),A=n.useRef();n.useImperativeHandle(t,function(){return R.current});var ee=function(h){var L=h.keyCode,z=h.shiftKey;switch(L){case re.TAB:{if(L===re.TAB){if(!z&&document.activeElement===A.current){var ae;(ae=N.current)===null||ae===void 0||ae.focus({preventScroll:!0})}else if(z&&document.activeElement===N.current){var oe;(oe=A.current)===null||oe===void 0||oe.focus({preventScroll:!0})}}break}case re.ESC:{M&&y&&(h.stopPropagation(),M(h));break}}};n.useEffect(function(){if(l&&p){var c;(c=R.current)===null||c===void 0||c.focus({preventScroll:!0})}},[l]);var te=n.useState(!1),ne=le(te,2),B=ne[0],_=ne[1],u=n.useContext(me),G;f===!1?G={distance:0}:f===!0?G={}:G=f||{};var O=(o=(a=(r=G)===null||r===void 0?void 0:r.distance)!==null&&a!==void 0?a:u?.pushDistance)!==null&&o!==void 0?o:180,Ce=n.useMemo(function(){return{pushDistance:O,push:function(){_(!0)},pull:function(){_(!1)}}},[O]);n.useEffect(function(){if(l){var c;u==null||(c=u.push)===null||c===void 0||c.call(u)}else{var h;u==null||(h=u.pull)===null||h===void 0||h.call(u)}},[l]),n.useEffect(function(){return function(){var c;u==null||(c=u.pull)===null||c===void 0||c.call(u)}},[]);var we=W&&n.createElement(se,F({key:"mask"},X,{visible:l}),function(c,h){var L=c.className,z=c.style;return n.createElement("div",{className:I("".concat(s,"-mask"),L,Y),style:$($({},z),V),onClick:T&&l?M:void 0,ref:h})}),be=typeof S=="function"?S(i):S,P={};if(B&&O)switch(i){case"top":P.transform="translateY(".concat(O,"px)");break;case"bottom":P.transform="translateY(".concat(-O,"px)");break;case"left":P.transform="translateX(".concat(O,"px)");break;default:P.transform="translateX(".concat(-O,"px)");break}i==="left"||i==="right"?P.width=fe(k):P.height=fe(x);var xe={onMouseEnter:q,onMouseOver:J,onMouseLeave:j,onClick:Q,onKeyDown:Z,onKeyUp:E},Se=n.createElement(se,F({key:"panel"},be,{visible:l,forceRender:v,onVisibleChanged:function(h){K?.(h)},removeOnLeave:!1,leavedClassName:"".concat(s,"-content-wrapper-hidden")}),function(c,h){var L=c.className,z=c.style;return n.createElement("div",F({className:I("".concat(s,"-content-wrapper"),L),style:$($($({},P),z),U)},$e(e,{data:!0})),n.createElement(Ie,F({containerRef:h,prefixCls:s,className:D,style:g},xe),H))}),ie=$({},w);return b&&(ie.zIndex=b),n.createElement(me.Provider,{value:Ce},n.createElement("div",{className:I(s,"".concat(s,"-").concat(i),C,(d={},ce(d,"".concat(s,"-open"),l),ce(d,"".concat(s,"-inline"),m),d)),style:ie,tabIndex:-1,ref:R,onKeyDown:ee},we,n.createElement("div",{tabIndex:0,ref:N,style:ve,"aria-hidden":"true","data-sentinel":"start"}),Se,n.createElement("div",{tabIndex:0,ref:A,style:ve,"aria-hidden":"true","data-sentinel":"end"})))}var Re=n.forwardRef(Ke),_e=function(t){var o=t.open,a=o===void 0?!1:o,r=t.prefixCls,d=r===void 0?"rc-drawer":r,s=t.placement,l=s===void 0?"right":s,i=t.autoFocus,m=i===void 0?!0:i,f=t.keyboard,v=f===void 0?!0:f,p=t.width,y=p===void 0?378:p,C=t.mask,w=C===void 0?!0:C,b=t.maskClosable,D=b===void 0?!0:b,g=t.getContainer,S=t.forceRender,k=t.afterOpenChange,x=t.destroyOnClose,H=t.onMouseEnter,U=t.onMouseOver,W=t.onMouseLeave,T=t.onClick,X=t.onKeyDown,Y=t.onKeyUp,V=n.useState(!1),K=le(V,2),M=K[0],q=K[1],J=n.useState(!1),j=le(J,2),Q=j[0],Z=j[1];de(function(){Z(!0)},[]);var E=Q?a:!1,R=n.useRef(),N=n.useRef();de(function(){E&&(N.current=document.activeElement)},[E]);var A=function(B){var _;if(q(B),k?.(B),!B&&N.current&&!(!((_=R.current)===null||_===void 0)&&_.contains(N.current))){var u;(u=N.current)===null||u===void 0||u.focus({preventScroll:!0})}};if(!S&&!M&&!E&&x)return null;var ee={onMouseEnter:H,onMouseOver:U,onMouseLeave:W,onClick:T,onKeyDown:X,onKeyUp:Y},te=$($({},t),{},{open:E,prefixCls:d,placement:l,autoFocus:m,keyboard:v,width:y,mask:w,maskClosable:D,inline:g===!1,afterOpenChange:A,ref:R},ee);return n.createElement(Ee,{open:E||S||M,autoDestroy:!1,getContainer:g,autoLock:w&&(E||M)},n.createElement(Re,te))};const Le=e=>{const{prefixCls:t,title:o,footer:a,extra:r,closable:d=!0,closeIcon:s=n.createElement(Ne,null),onClose:l,headerStyle:i,drawerStyle:m,bodyStyle:f,footerStyle:v,children:p}=e,y=d&&n.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:`${t}-close`},s),C=n.useMemo(()=>!o&&!d?null:n.createElement("div",{style:i,className:I(`${t}-header`,{[`${t}-header-close-only`]:d&&!o&&!r})},n.createElement("div",{className:`${t}-header-title`},y,o&&n.createElement("div",{className:`${t}-title`},o)),r&&n.createElement("div",{className:`${t}-extra`},r)),[d,y,r,i,t,o]),w=n.useMemo(()=>{if(!a)return null;const b=`${t}-footer`;return n.createElement("div",{className:b,style:v},a)},[a,v,t]);return n.createElement("div",{className:`${t}-wrapper-body`,style:m},C,n.createElement("div",{className:`${t}-body`,style:f},p),w)},pe=Le,ze=e=>{const{componentCls:t,motionDurationSlow:o}=e,a={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${o}`}}};return{[t]:{[`${t}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${o}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${t}-panel-motion`]:{"&-left":[a,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[a,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[a,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[a,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},He=ze,Ue=e=>{const{componentCls:t,zIndexPopup:o,colorBgMask:a,colorBgElevated:r,motionDurationSlow:d,motionDurationMid:s,padding:l,paddingLG:i,fontSizeLG:m,lineHeightLG:f,lineWidth:v,lineType:p,colorSplit:y,marginSM:C,colorIcon:w,colorIconHover:b,colorText:D,fontWeightStrong:g,footerPaddingBlock:S,footerPaddingInline:k}=e,x=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none","&-pure":{position:"relative",background:r,[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:o,background:a,pointerEvents:"auto"},[x]:{position:"absolute",zIndex:o,transition:`all ${d}`,"&-hidden":{display:"none"}},[`&-left > ${x}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${x}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${x}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${x}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-content`]:{width:"100%",height:"100%",overflow:"auto",background:r,pointerEvents:"auto"},[`${t}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${l}px ${i}px`,fontSize:m,lineHeight:f,borderBottom:`${v}px ${p} ${y}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-block",marginInlineEnd:C,color:w,fontWeight:g,fontSize:m,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${s}`,textRendering:"auto","&:focus, &:hover":{color:b,textDecoration:"none"}},[`${t}-title`]:{flex:1,margin:0,color:D,fontWeight:e.fontWeightStrong,fontSize:m,lineHeight:f},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:i,overflow:"auto"},[`${t}-footer`]:{flexShrink:0,padding:`${S}px ${k}px`,borderTop:`${v}px ${p} ${y}`},"&-rtl":{direction:"rtl"}}}},ye=De("Drawer",e=>{const t=Me(e,{});return[Ue(t),He(t)]},e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}));var ge=globalThis&&globalThis.__rest||function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]]);return o};const We={distance:180};function Te(e){const{rootClassName:t,width:o,height:a,size:r="default",mask:d=!0,push:s=We,open:l,afterOpenChange:i,onClose:m,prefixCls:f,getContainer:v,visible:p,afterVisibleChange:y}=e,C=ge(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","visible","afterVisibleChange"]),{getPopupContainer:w,getPrefixCls:b,direction:D}=n.useContext(he),g=b("drawer",f),[S,k]=ye(g),x=v===void 0&&w?()=>w(document.body):v,H=I({"no-mask":!d,[`${g}-rtl`]:D==="rtl"},t,k),U=n.useMemo(()=>o??(r==="large"?736:378),[o,r]),W=n.useMemo(()=>a??(r==="large"?736:378),[a,r]),T={motionName:ue(g,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},X=Y=>({motionName:ue(g,`panel-motion-${Y}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500});return S(n.createElement(Pe,null,n.createElement(Oe,{status:!0,override:!0},n.createElement(_e,Object.assign({prefixCls:g,onClose:m,maskMotion:T,motion:X},C,{open:l??p,mask:d,push:s,width:U,height:W,rootClassName:H,getContainer:x,afterOpenChange:i??y}),n.createElement(pe,Object.assign({prefixCls:g},C,{onClose:m}))))))}function Xe(e){var{prefixCls:t,style:o,className:a,placement:r="right"}=e,d=ge(e,["prefixCls","style","className","placement"]);const{getPrefixCls:s}=n.useContext(he),l=s("drawer",t),[i,m]=ye(l);return i(n.createElement("div",{className:I(l,`${l}-pure`,`${l}-${r}`,m,a),style:o},n.createElement(pe,Object.assign({prefixCls:l},d))))}Te._InternalPanelDoNotUseOrYouWillBeFired=Xe;export{Te as default};
