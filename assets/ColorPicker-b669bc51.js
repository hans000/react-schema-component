import{_ as De,e as je,f as ge,h as fe,S as he,B as pe,y as w,at as Me,R as u,c as P,r as p,q as _,v as te,s as Z,u as re,g as Be,m as Ve,a as ze}from"./index-7e4a4b07.js";import{g as Ae}from"./PurePanel-881ad915.js";import Te from"./index-1b46fb31.js";import{t as me}from"./index-5d226ec8.js";import We from"./index-b19233eb.js";import Xe from"./index-d2164892.js";import _e from"./index-b1597035.js";import{I as Fe}from"./index-4b8d97da.js";import{C as Le}from"./Collapse-4db5c5e6.js";import{u as Ye}from"./useLocale-67a063e1.js";var Ue=["v"],G=function(t){De(r,t);var e=je(r);function r(o){return ge(this,r),e.call(this,Qe(o))}return fe(r,[{key:"toHsbString",value:function(){var n=this.toHsb(),a=j(n.s*100),l=j(n.b*100),s=j(n.h),i=n.a,c="hsb(".concat(s,", ").concat(a,"%, ").concat(l,"%)"),g="hsba(".concat(s,", ").concat(a,"%, ").concat(l,"%, ").concat(i.toFixed(i===0?0:2),")");return i===1?c:g}},{key:"toHsb",value:function(){var n=this.toHsv();he(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(n=this.originalInput);var a=n;a.v;var l=pe(a,Ue);return w(w({},l),{},{b:n.v})}}]),r}(Me),Ge=["b"],Ke="rc-color-picker",j=function(e){return Math.round(Number(e||0))},Qe=function(e){if(e&&he(e)==="object"&&"h"in e&&"b"in e){var r=e,o=r.b,n=pe(r,Ge);return w(w({},n),{},{v:o})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},I=function(e){return e instanceof G?e:new G(e)},qe=I("#1677ff"),Ce=function(e){var r=e.offset,o=e.targetRef,n=e.containerRef,a=e.color,l=e.type,s=n.current.getBoundingClientRect(),i=s.width,c=s.height,g=o.current.getBoundingClientRect(),d=g.width,f=g.height,h=d/2,m=f/2,v=(r.x+h)/i,b=1-(r.y+m)/c,C=a.toHsb(),x=v,S=(r.x+h)/i*360;if(l)switch(l){case"hue":return I(w(w({},C),{},{h:S<=0?0:S}));case"alpha":return I(w(w({},C),{},{a:x<=0?0:x}))}return I({h:C.h,s:v<=0?0:v,b:b>=1?1:b,a:C.a})},ve=function(e,r,o,n){var a=e.current.getBoundingClientRect(),l=a.width,s=a.height,i=r.current.getBoundingClientRect(),c=i.width,g=i.height,d=c/2,f=g/2,h=o.toHsb();if(!(c===0&&g===0||c!==g)){if(n)switch(n){case"hue":return{x:h.h/360*l-d,y:-f/3};case"alpha":return{x:h.a/1*l-d,y:-f/3}}return{x:h.s*l-d,y:(1-h.b)*s-f}}},oe=function(e){var r=e.color,o=e.prefixCls,n=e.className,a=e.style,l=e.onClick,s="".concat(o,"-color-block");return u.createElement("div",{className:P(s,n),style:a,onClick:l},u.createElement("div",{className:"".concat(s,"-inner"),style:{background:r}}))};function Je(t){var e="touches"in t?t.touches[0]:t,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,o=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-r,pageY:e.pageY-o}}function be(t){var e=t.offset,r=t.targetRef,o=t.containerRef,n=t.direction,a=t.onDragChange,l=t.onDragChangeComplete,s=t.calculate,i=t.color,c=t.disabledDrag,g=p.useState(e||{x:0,y:0}),d=_(g,2),f=d[0],h=d[1],m=p.useRef(null),v=p.useRef(null),b=p.useRef({flag:!1});p.useEffect(function(){if(b.current.flag===!1){var E=s?.(o);E&&h(E)}},[i,o]),p.useEffect(function(){return function(){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",v.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",v.current),m.current=null,v.current=null}},[]);var C=function($){var D=Je($),H=D.pageX,R=D.pageY,O=o.current.getBoundingClientRect(),F=O.x,K=O.y,z=O.width,L=O.height,k=r.current.getBoundingClientRect(),A=k.width,T=k.height,Y=A/2,Q=T/2,q=Math.max(0,Math.min(H-F,z))-Y,J=Math.max(0,Math.min(R-K,L))-Q,B={x:q,y:n==="x"?f.y:J};if(A===0&&T===0||A!==T)return!1;h(B),a?.(B)},x=function($){$.preventDefault(),C($)},S=function($){$.preventDefault(),b.current.flag=!1,document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",v.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",v.current),m.current=null,v.current=null,l?.()},V=function($){c||(C($),b.current.flag=!0,document.addEventListener("mousemove",x),document.addEventListener("mouseup",S),document.addEventListener("touchmove",x),document.addEventListener("touchend",S),m.current=x,v.current=S)};return[f,V]}var xe=function(e){var r=e.size,o=r===void 0?"default":r,n=e.color,a=e.prefixCls;return u.createElement("div",{className:P("".concat(a,"-handler"),te({},"".concat(a,"-handler-sm"),o==="small")),style:{backgroundColor:n}})},Se=function(e){var r=e.children,o=e.style,n=e.prefixCls;return u.createElement("div",{className:"".concat(n,"-palette"),style:w({position:"relative"},o)},r)},$e=p.forwardRef(function(t,e){var r=t.children,o=t.offset;return u.createElement("div",{ref:e,style:{position:"absolute",left:o.x,top:o.y,zIndex:1}},r)}),Ze=function(e){var r=e.color,o=e.onChange,n=e.prefixCls,a=e.onChangeComplete,l=e.disabled,s=p.useRef(),i=p.useRef(),c=be({color:r,containerRef:s,targetRef:i,calculate:function(m){return ve(m,i,r)},onDragChange:function(m){return o(Ce({offset:m,targetRef:i,containerRef:s,color:r}))},onDragChangeComplete:a,disabledDrag:l}),g=_(c,2),d=g[0],f=g[1];return u.createElement("div",{ref:s,className:"".concat(n,"-select"),onMouseDown:f,onTouchStart:f},u.createElement(Se,{prefixCls:n},u.createElement($e,{offset:d,ref:i},u.createElement(xe,{color:r.toRgbString(),prefixCls:n})),u.createElement("div",{className:"".concat(n,"-saturation"),style:{backgroundColor:"hsl(".concat(r.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},et=function(e){var r=e.colors,o=e.children,n=e.direction,a=n===void 0?"to right":n,l=e.type,s=e.prefixCls,i=p.useMemo(function(){return r.map(function(c,g){var d=I(c);return l==="alpha"&&g===r.length-1&&d.setAlpha(1),d.toRgbString()}).join(",")},[r,l]);return u.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(i,")")}},o)},le=function(e){var r=e.gradientColors,o=e.direction,n=e.type,a=n===void 0?"hue":n,l=e.color,s=e.value,i=e.onChange,c=e.onChangeComplete,g=e.disabled,d=e.prefixCls,f=p.useRef(),h=p.useRef(),m=be({color:l,targetRef:h,containerRef:f,calculate:function(S){return ve(S,h,l,a)},onDragChange:function(S){i(Ce({offset:S,targetRef:h,containerRef:f,color:l,type:a}))},onDragChangeComplete:function(){c?.(a)},direction:"x",disabledDrag:g}),v=_(m,2),b=v[0],C=v[1];return u.createElement("div",{ref:f,className:P("".concat(d,"-slider"),"".concat(d,"-slider-").concat(a)),onMouseDown:C,onTouchStart:C},u.createElement(Se,{prefixCls:d},u.createElement($e,{offset:b,ref:h},u.createElement(xe,{size:"small",color:s,prefixCls:d})),u.createElement(et,{colors:r,direction:o,type:a,prefixCls:d})))};function ie(t){return t!==void 0}var tt=function(e,r){var o=r.defaultValue,n=r.value,a=p.useState(function(){var c;return ie(n)?c=n:ie(o)?c=o:c=e,I(c)}),l=_(a,2),s=l[0],i=l[1];return p.useEffect(function(){n&&i(I(n))},[n]),[s,i]},rt=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const ot=p.forwardRef(function(t,e){var r=t.value,o=t.defaultValue,n=t.prefixCls,a=n===void 0?Ke:n,l=t.onChange,s=t.onChangeComplete,i=t.className,c=t.style,g=t.panelRender,d=t.disabledAlpha,f=d===void 0?!1:d,h=t.disabled,m=h===void 0?!1:h,v=tt(qe,{value:r,defaultValue:o}),b=_(v,2),C=b[0],x=b[1],S=p.useMemo(function(){var H=I(C.toRgbString());return H.setAlpha(1),H.toRgbString()},[C]),V=P("".concat(a,"-panel"),i,te({},"".concat(a,"-panel-disabled"),m)),E={prefixCls:a,onChangeComplete:s,disabled:m},$=function(R,O){r||x(R),l?.(R,O)},D=u.createElement(u.Fragment,null,u.createElement(Ze,Z({color:C,onChange:$},E)),u.createElement("div",{className:"".concat(a,"-slider-container")},u.createElement("div",{className:P("".concat(a,"-slider-group"),te({},"".concat(a,"-slider-group-disabled-alpha"),f))},u.createElement(le,Z({gradientColors:rt,color:C,value:"hsl(".concat(C.toHsb().h,",100%, 50%)"),onChange:function(R){return $(R,"hue")}},E)),!f&&u.createElement(le,Z({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",S],color:C,value:C.toRgbString(),onChange:function(R){return $(R,"alpha")}},E))),u.createElement(oe,{color:C.toRgbString(),prefixCls:a})));return u.createElement("div",{className:V,style:c,ref:e},typeof g=="function"?g(D):D)});let se=function(){function t(e){ge(this,t),this.metaColor=new G(e)}return fe(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return lt(this.toHexString(),this.metaColor.getAlpha()<1)}},{key:"toHexString",value:function(){return this.metaColor.getAlpha()===1?this.metaColor.toHexString():this.metaColor.toHex8String()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}}]),t}();const nt="ant-color-picker",y=t=>t instanceof se?t:new se(t),at=t=>j(t.toHsb().a*100),U=(t,e)=>t?.replace(/[^\w/]/gi,"").slice(0,e?8:6)||"",lt=(t,e)=>t?U(t,e):"",it=t=>{let{prefixCls:e,value:r,colorCleared:o,onChange:n}=t;const a=()=>{if(r&&!o){const l=r.toHsb();l.a=0;const s=y(l);n?.(s)}};return u.createElement("div",{className:`${e}-clear`,onClick:a})},ye=it;var N;(function(t){t.hex="hex",t.rgb="rgb",t.hsb="hsb"})(N||(N={}));const st=t=>{let{prefixCls:e,min:r=0,max:o=100,value:n,onChange:a,className:l,formatter:s}=t;const i=`${e}-steppers`,[c,g]=p.useState(n);return p.useEffect(()=>{Number.isNaN(n)||g(n)},[n]),u.createElement(_e,{className:P(i,l),min:r,max:o,value:c,formatter:s,size:"small",onChange:d=>{n||g(d||0),a?.(d)}})},M=st,ct=t=>{let{prefixCls:e,value:r,onChange:o}=t;const n=`${e}-alpha-input`,[a,l]=p.useState(y(r||"#000"));p.useEffect(()=>{r&&l(r)},[r]);const s=i=>{const c=a.toHsb();c.a=(i||0)/100;const g=y(c);r||l(g),o?.(g)};return u.createElement(M,{value:at(a),prefixCls:e,formatter:i=>`${i}%`,className:n,onChange:s})},ut=ct,dt=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,ce=t=>dt.test(`#${t}`),gt=t=>{let{prefixCls:e,value:r,onChange:o}=t;const n=`${e}-hex-input`,[a,l]=p.useState(r?.toHex());p.useEffect(()=>{const i=r?.toHex();ce(i)&&r&&l(U(i))},[r]);const s=i=>{const c=i.target.value;l(U(c)),ce(U(c,!0))&&o?.(y(c))};return u.createElement(Fe,{className:n,value:a?.toUpperCase(),prefix:"#",onChange:s,size:"small"})},ft=gt,ht=t=>{let{prefixCls:e,value:r,onChange:o}=t;const n=`${e}-hsb-input`,[a,l]=p.useState(y(r||"#000"));p.useEffect(()=>{r&&l(r)},[r]);const s=(i,c)=>{const g=a.toHsb();g[c]=c==="h"?i:(i||0)/100;const d=y(g);r||l(d),o?.(d)};return u.createElement("div",{className:n},u.createElement(M,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:e,className:n,formatter:i=>j(i||0).toString(),onChange:i=>s(Number(i),"h")}),u.createElement(M,{max:100,min:0,value:Number(a.toHsb().s)*100,prefixCls:e,className:n,formatter:i=>`${j(i||0)}%`,onChange:i=>s(Number(i),"s")}),u.createElement(M,{max:100,min:0,value:Number(a.toHsb().b)*100,prefixCls:e,className:n,formatter:i=>`${j(i||0)}%`,onChange:i=>s(Number(i),"b")}))},pt=ht,mt=t=>{let{prefixCls:e,value:r,onChange:o}=t;const n=`${e}-rgb-input`,[a,l]=p.useState(y(r||"#000"));p.useEffect(()=>{r&&l(r)},[r]);const s=(i,c)=>{const g=a.toRgb();g[c]=i||0;const d=y(g);r||l(d),o?.(d)};return u.createElement("div",{className:n},u.createElement(M,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:e,className:n,onChange:i=>s(Number(i),"r")}),u.createElement(M,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:e,className:n,onChange:i=>s(Number(i),"g")}),u.createElement(M,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:e,className:n,onChange:i=>s(Number(i),"b")}))},Ct=mt,vt=[N.hex,N.hsb,N.rgb].map(t=>({value:t,label:t.toLocaleUpperCase()})),bt=t=>{const{prefixCls:e,format:r,value:o,onFormatChange:n,onChange:a}=t,[l,s]=re(N.hex,{value:r,onChange:n}),i=`${e}-input`,c=d=>{s(d)},g=p.useMemo(()=>{const d={value:o,prefixCls:e,onChange:a};switch(l){case N.hsb:return u.createElement(pt,Object.assign({},d));case N.rgb:return u.createElement(Ct,Object.assign({},d));case N.hex:default:return u.createElement(ft,Object.assign({},d))}},[l,e,o,a]);return u.createElement("div",{className:`${i}-container`},u.createElement(Xe,{value:l,bordered:!1,getPopupContainer:d=>d,popupMatchSelectWidth:68,placement:"bottomRight",onChange:c,className:`${e}-format-select`,size:"small",options:vt}),u.createElement("div",{className:i},g),u.createElement(ut,{prefixCls:e,value:o,onChange:a}))},xt=bt,ee=t=>t.map(e=>(e.colors=e.colors.map(y),e)),St=(t,e)=>{const{r,g:o,b:n,a}=t.toRgb(),l=new G(t.toRgbString()).onBackground(e).toHsv();return a<=.5?l.v>.5:r*.299+o*.587+n*.114>192},$t=t=>{let{prefixCls:e,presets:r,value:o,onChange:n}=t;const[a]=Ye("ColorPicker"),{token:{colorBgElevated:l}}=me.useToken(),[s]=re(ee(r),{value:ee(r),postState:ee}),i=`${e}-presets`,c=p.useMemo(()=>s.map(f=>`panel-${f.label}`),[s]),g=f=>{n?.(f)},d=s.map(f=>{var h;return{key:`panel-${f.label}`,label:u.createElement("div",{className:`${i}-label`},f?.label),children:u.createElement("div",{className:`${i}-items`},Array.isArray(f?.colors)&&((h=f.colors)===null||h===void 0?void 0:h.length)>0?f.colors.map(m=>u.createElement(oe,{key:`preset-${m.toHexString()}`,color:y(m).toRgbString(),prefixCls:e,className:P(`${i}-color`,{[`${i}-color-checked`]:m.toHexString()===o?.toHexString(),[`${i}-color-bright`]:St(m,l)}),onClick:()=>g(m)})):u.createElement("span",{className:`${i}-empty`},a.presetEmpty))}});return u.createElement("div",{className:i},u.createElement(Le,{defaultActiveKey:c,ghost:!0,items:d}))},yt=$t;var Et=globalThis&&globalThis.__rest||function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]]);return r};const Rt=t=>{const{prefixCls:e,allowClear:r,presets:o,onChange:n,onClear:a,onChangeComplete:l,color:s,colorCleared:i}=t,c=Et(t,["prefixCls","allowClear","presets","onChange","onClear","onChangeComplete","color","colorCleared"]),g=`${e}-inner-panel`,d=f=>u.createElement("div",{className:g},r&&u.createElement(ye,Object.assign({prefixCls:e,value:s,colorCleared:i,onChange:h=>{n?.(h),a?.()}},c)),f,u.createElement(xt,Object.assign({value:s,onChange:n,prefixCls:e},c)),Array.isArray(o)&&u.createElement(u.Fragment,null,u.createElement(We,{className:`${g}-divider`}),u.createElement(yt,{value:s,presets:o,prefixCls:e,onChange:n})));return u.createElement(ot,{prefixCls:e,value:s?.toHsb(),onChange:(f,h)=>n?.(f,h,!0),panelRender:d,onChangeComplete:l})},Pt=Rt;var Ht=globalThis&&globalThis.__rest||function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]]);return r};const wt=p.forwardRef((t,e)=>{const{color:r,prefixCls:o,open:n,colorCleared:a,disabled:l,className:s}=t,i=Ht(t,["color","prefixCls","open","colorCleared","disabled","className"]),c=`${o}-trigger`,g=p.useMemo(()=>a?u.createElement(ye,{prefixCls:o}):u.createElement(oe,{prefixCls:o,color:r.toRgbString()}),[r,a,o]);return u.createElement("div",Object.assign({ref:e,className:P(c,s,{[`${c}-active`]:n,[`${c}-disabled`]:l})},i),g)}),Nt=wt;function ue(t){return t!==void 0}const Ot=(t,e)=>{const{defaultValue:r,value:o}=e,[n,a]=p.useState(()=>{let l;return ue(o)?l=o:ue(r)?l=r:l=t,y(l||"")});return p.useEffect(()=>{o&&a(y(o))},[o]),[n,a]},kt=Ot,Ee=(t,e)=>({backgroundImage:`conic-gradient(${e} 0 25%, transparent 0 50%, ${e} 0 75%, transparent 0)`,backgroundSize:`${t} ${t}`}),It=(t,e)=>{const{componentCls:r,borderRadiusSM:o,colorPickerInsetShadow:n,lineWidth:a,colorFillSecondary:l}=t;return{[`${r}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:o,width:e,height:e,boxShadow:n},Ee("50%",t.colorFillSecondary)),{[`${r}-color-block-inner`]:{width:"100%",height:"100%",border:`${a}px solid ${l}`,borderRadius:"inherit"}})}},Re=It,Dt=t=>{const{componentCls:e,antCls:r,fontSizeSM:o,lineHeightSM:n,colorPickerAlphaInputWidth:a,marginXXS:l,paddingXXS:s,controlHeightSM:i,marginXS:c,fontSizeIcon:g,paddingXS:d,colorTextPlaceholder:f,colorPickerInputNumberHandleWidth:h,lineWidth:m}=t;return{[`${e}-input-container`]:{display:"flex",[`${e}-steppers${r}-input-number`]:{fontSize:o,lineHeight:n,[`${r}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${r}-input-number-handler-wrap`]:{width:h}},[`${e}-steppers${e}-alpha-input`]:{flex:`0 0 ${a}px`,marginInlineStart:l},[`${e}-format-select${r}-select`]:{marginInlineEnd:c,width:"auto","&-single":{[`${r}-select-selector`]:{padding:0,border:0},[`${r}-select-arrow`]:{insetInlineEnd:0},[`${r}-select-selection-item`]:{paddingInlineEnd:g+l,fontSize:o,lineHeight:`${i}px`},[`${r}-select-item-option-content`]:{fontSize:o,lineHeight:n},[`${r}-select-dropdown`]:{[`${r}-select-item`]:{minHeight:"auto"}}}},[`${e}-input`]:{gap:l,alignItems:"center",flex:1,width:0,[`${e}-hsb-input,${e}-rgb-input`]:{display:"flex",gap:l,alignItems:"center"},[`${e}-steppers`]:{flex:1},[`${e}-hex-input${r}-input-affix-wrapper`]:{flex:1,padding:`0 ${d}px`,[`${r}-input`]:{fontSize:o,lineHeight:`${i-2*m}px`},[`${r}-input-prefix`]:{color:f}}}}}},jt=Dt,Mt=t=>{const{componentCls:e,controlHeightLG:r,borderRadiusSM:o,colorPickerInsetShadow:n,marginSM:a,colorBgElevated:l,colorFillSecondary:s,lineWidthBold:i,colorPickerHandlerSize:c,colorPickerHandlerSizeSM:g,colorPickerSliderHeight:d,colorPickerPreviewSize:f}=t;return Object.assign({[`${e}-select`]:{[`${e}-palette`]:{minHeight:r*4,overflow:"hidden",borderRadius:o},[`${e}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:n,inset:0},marginBottom:a},[`${e}-handler`]:{width:c,height:c,border:`${i}px solid ${l}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${n}, 0 0 0 1px ${s}`,"&-sm":{width:g,height:g}},[`${e}-slider`]:{borderRadius:d/2,[`${e}-palette`]:{height:d},[`${e}-gradient`]:{borderRadius:d/2,boxShadow:n},"&-alpha":Ee(`${d}px`,t.colorFillSecondary),marginBottom:a},[`${e}-slider-container`]:{display:"flex",gap:a,[`${e}-slider-group`]:{flex:1}}},Re(t,f))},Bt=Mt,Vt=t=>{const{componentCls:e,antCls:r,colorTextQuaternary:o,paddingXXS:n,colorPickerPresetColorSize:a,fontSizeSM:l,colorText:s,lineHeightSM:i,lineWidth:c,borderRadius:g,colorFill:d,colorWhite:f,marginXXS:h,paddingXS:m}=t;return{[`${e}-presets`]:{[`${r}-collapse-item > ${r}-collapse-header`]:{padding:0,[`${r}-collapse-expand-icon`]:{height:l*i,color:o,paddingInlineEnd:n}},[`${r}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${r}-collapse-item > ${r}-collapse-content > ${r}-collapse-content-box`]:{padding:`${m}px 0`},"&-label":{fontSize:l,color:s,lineHeight:i},"&-items":{display:"flex",flexWrap:"wrap",gap:h*1.5,[`${e}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:a+4*c,height:a+4*c,position:"absolute",top:-2*c,insetInlineStart:-2*c,borderRadius:g,border:`${c}px solid transparent`,transition:`border-color ${t.motionDurationMid} ${t.motionEaseInBack}`},"&:hover::before":{borderColor:d},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"22.5%",display:"table",width:a/13*5,height:a/13*8,border:`${t.lineWidthBold}px solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`},[`&${e}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:f,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`},[`&${e}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:l,color:o}}}},zt=Vt,At=t=>({boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${t.controlOutline}`,borderInlineEndWidth:t.lineWidth,outline:0}),Tt=t=>{const{componentCls:e}=t;return{"&-rtl":{[`${e}-presets-color`]:{"&::after":{direction:"ltr"}},[`${e}-clear`]:{"&::after":{direction:"ltr"}}}}},de=(t,e)=>{const{componentCls:r,borderRadiusSM:o,lineWidth:n,colorSplit:a,red6:l}=t;return{[`${r}-clear`]:{width:e,height:e,borderRadius:o,border:`${n}px solid ${a}`,position:"relative",cursor:"pointer",overflow:"hidden","&::after":{content:'""',position:"absolute",insetInlineEnd:n,top:0,display:"block",width:40,height:2,transformOrigin:"right",transform:"rotate(-45deg)",backgroundColor:l}}}},Wt=t=>{const{componentCls:e,colorPickerWidth:r,colorPrimary:o,motionDurationMid:n,colorBgElevated:a,colorTextDisabled:l,colorBgContainerDisabled:s,borderRadius:i,marginXS:c,marginSM:g,controlHeight:d,controlHeightSM:f,colorBgTextActive:h,colorPickerPresetColorSize:m,lineWidth:v,colorBorder:b}=t;return[{[e]:Object.assign({[`${e}-panel`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"flex",flexDirection:"column",width:r,[`${e}-inner-panel`]:{[`${e}-clear`]:{marginInlineStart:"auto",marginBottom:c},"&-divider":{margin:`${g}px 0 ${c}px`}}},Bt(t)),jt(t)),zt(t)),de(t,m)),"&-trigger":Object.assign(Object.assign({width:d,height:d,borderRadius:i,border:`${v}px solid ${b}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${n}`,background:a,"&-active":Object.assign(Object.assign({},At(t)),{borderColor:o}),"&:hover":{borderColor:o},"&-disabled":{color:l,background:s,cursor:"not-allowed","&:hover":{borderColor:h}}},de(t,f)),Re(t,f))},Tt(t))}]},Xt=Be("ColorPicker",t=>{const{colorTextQuaternary:e,marginSM:r}=t,o=8,n=Ve(t,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:18,colorPickerInsetShadow:`inset 0 0 1px 0 ${e}`,colorPickerSliderHeight:o,colorPickerPreviewSize:o*2+r});return[Wt(n)]}),ne=t=>{const{value:e,defaultValue:r,format:o,allowClear:n=!1,presets:a,children:l,trigger:s="click",open:i,disabled:c,placement:g="bottomLeft",arrow:d=!0,style:f,className:h,rootClassName:m,styles:v,onFormatChange:b,onChange:C,onClear:x,onOpenChange:S,getPopupContainer:V,autoAdjustOverflow:E=!0}=t,{getPrefixCls:$,direction:D}=p.useContext(ze),{token:H}=me.useToken(),[R,O]=kt(H.colorPrimary,{value:e,defaultValue:r}),[F,K]=re(!1,{value:i,postState:W=>!c&&W,onChange:S}),[z,L]=p.useState(!1),k=$("color-picker",nt),[A,T]=Xt(k),Y={[`${k}-rtl`]:D},Q=P(m,Y),q=P(Q,h,T),J=P(k,Y),B=p.useRef(!0),Pe=(W,ke,Ie)=>{let X=y(W);if(z){L(!1);const ae=X.toHsb();R.toHsb().a===0&&ke!=="alpha"&&(ae.a=1,X=y(ae))}e||O(X),Ie&&(B.current=!1),C?.(X,X.toHexString())},He=()=>{L(!0),x?.()},we=()=>{B.current=!0},Ne={open:F,trigger:s,placement:g,arrow:d,rootClassName:m,getPopupContainer:V,autoAdjustOverflow:E},Oe={prefixCls:k,color:R,allowClear:n,colorCleared:z,disabled:c,presets:a,format:o,onFormatChange:b};return A(u.createElement(Te,Object.assign({style:v?.popup,onOpenChange:W=>{B.current&&K(W)},content:u.createElement(Pt,Object.assign({},Oe,{onChange:Pe,onChangeComplete:we,onClear:He})),overlayClassName:J},Ne),l||u.createElement(Nt,{open:F,className:q,style:f,color:R,prefixCls:k,disabled:c,colorCleared:z})))},_t=Ae(ne,"color-picker",t=>t,t=>Object.assign(Object.assign({},t),{placement:"bottom",autoAdjustOverflow:!1}));ne._InternalPanelDoNotUseOrYouWillBeFired=_t;const er=ne;export{er as C};
