import{V as $}from"./VerticalAlignTopOutlined-b3ed3b8e.js";import{g as w,m as y,k as D,r as t,a as H,c as T,o as M,b as P,V as L}from"./index-7e4a4b07.js";import{s as O,g as V}from"./scrollTo-c3afcdee.js";import{t as j}from"./throttleByAnimationFrame-ade9e9c6.js";const A=e=>{const{componentCls:n,backTopFontSize:l,backTopSize:a,zIndexPopup:c}=e;return{[n]:Object.assign(Object.assign({},D(e)),{position:"fixed",insetInlineEnd:e.backTopInlineEnd,insetBlockEnd:e.backTopBlockEnd,zIndex:c,width:40,height:40,cursor:"pointer","&:empty":{display:"none"},[`${n}-content`]:{width:a,height:a,overflow:"hidden",color:e.backTopColor,textAlign:"center",backgroundColor:e.backTopBackground,borderRadius:a,transition:`all ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.backTopHoverBackground,transition:`all ${e.motionDurationMid}`}},[`${n}-icon`]:{fontSize:l,lineHeight:`${a}px`}})}},F=e=>{const{componentCls:n}=e;return{[`@media (max-width: ${e.screenMD}px)`]:{[n]:{insetInlineEnd:e.backTopInlineEndMD}},[`@media (max-width: ${e.screenXS}px)`]:{[n]:{insetInlineEnd:e.backTopInlineEndXS}}}},R=w("BackTop",e=>{const{fontSizeHeading3:n,colorTextDescription:l,colorTextLightSolid:a,colorText:c,controlHeightLG:i}=e,s=y(e,{backTopBackground:l,backTopColor:a,backTopHoverBackground:c,backTopFontSize:n,backTopSize:i,backTopBlockEnd:i*1.25,backTopInlineEnd:i*2.5,backTopInlineEndMD:i*1.5,backTopInlineEndXS:i*.5});return[A(s),F(s)]},e=>({zIndexPopup:e.zIndexBase+10})),X=e=>{const{prefixCls:n,className:l,rootClassName:a,visibilityHeight:c=400,target:i,onClick:s,duration:b=450}=e,[k,x]=t.useState(c===0),m=t.useRef(null),u=()=>m.current&&m.current.ownerDocument?m.current.ownerDocument:window,p=j(r=>{const o=V(r.target,!0);x(o>=c)});t.useEffect(()=>{const o=(i||u)();return p({target:o}),o?.addEventListener("scroll",p),()=>{p.cancel(),o?.removeEventListener("scroll",p)}},[i]);const C=r=>{O(0,{getContainer:i||u,duration:b}),s?.(r)},{getPrefixCls:g,direction:f}=t.useContext(H),d=g("back-top",n),E=g(),[S,h]=R(d),v=T(h,d,{[`${d}-rtl`]:f==="rtl"},l,a),I=M(e,["prefixCls","className","rootClassName","children","visibilityHeight","target"]),B=t.createElement("div",{className:`${d}-content`},t.createElement("div",{className:`${d}-icon`},t.createElement($,null)));return S(t.createElement("div",Object.assign({},I,{className:v,onClick:C,ref:m}),t.createElement(P,{visible:k,motionName:`${E}-fade`},r=>{let{className:o}=r;return L(e.children||B,N=>{let{className:z}=N;return{className:T(o,z)}})})))},Q=t.memo(X);export{Q as default};
