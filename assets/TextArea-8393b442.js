import{r as n,B as ue,u as ie,q as G,R as d,s as J,o as ce,c as O,v as Q,j as fe,S as de,y as me,a as te,a2 as ae,a1 as re,ab as se,U as ve,N as X,p as ne}from"./index-7e4a4b07.js";import{B as pe,f as Y,t as xe,r as Z,T as ge}from"./TextArea-386dd94b.js";import{g as L,a as oe}from"./statusUtils-603cf288.js";import{u as be,N as ee}from"./Compact-a8ad6370.js";import{u as le}from"./index-6cf728da.js";var Ce=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],he=n.forwardRef(function(e,u){var o=e.autoComplete,t=e.onChange,s=e.onFocus,m=e.onBlur,b=e.onPressEnter,l=e.onKeyDown,$=e.prefixCls,v=$===void 0?"rc-input":$,p=e.disabled,T=e.htmlSize,A=e.className,h=e.maxLength,z=e.suffix,w=e.showCount,_=e.type,k=_===void 0?"text":_,K=e.classes,i=e.classNames,c=e.styles,a=ue(e,Ce),I=ie(e.defaultValue,{value:e.value}),B=G(I,2),y=B[0],S=B[1],N=n.useState(!1),x=G(N,2),F=x[0],D=x[1],g=n.useRef(null),E=function(r){g.current&&xe(g.current,r)};n.useImperativeHandle(u,function(){return{focus:E,blur:function(){var r;(r=g.current)===null||r===void 0||r.blur()},setSelectionRange:function(r,P,C){var R;(R=g.current)===null||R===void 0||R.setSelectionRange(r,P,C)},select:function(){var r;(r=g.current)===null||r===void 0||r.select()},input:g.current}}),n.useEffect(function(){D(function(f){return f&&p?!1:f})},[p]);var W=function(r){e.value===void 0&&S(r.target.value),g.current&&Z(g.current,r,t)},M=function(r){b&&r.key==="Enter"&&b(r),l?.(r)},j=function(r){D(!0),s?.(r)},V=function(r){D(!1),m?.(r)},H=function(r){S(""),E(),g.current&&Z(g.current,r,t)},q=function(){var r=ce(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return d.createElement("input",J({autoComplete:o},r,{onChange:W,onFocus:j,onBlur:V,onKeyDown:M,className:O(v,Q({},"".concat(v,"-disabled"),p),i?.input),style:c?.input,ref:g,size:T,type:k}))},U=function(){var r=Number(h)>0;if(z||w){var P=Y(y),C=fe(P).length,R=de(w)==="object"?w.formatter({value:P,count:C,maxLength:h}):"".concat(C).concat(r?" / ".concat(h):"");return d.createElement(d.Fragment,null,!!w&&d.createElement("span",{className:O("".concat(v,"-show-count-suffix"),Q({},"".concat(v,"-show-count-has-suffix"),!!z),i?.count),style:me({},c?.count)},R),z)}return null};return d.createElement(pe,J({},a,{prefixCls:v,className:A,inputElement:q(),handleReset:H,value:Y(y),focused:F,triggerFocus:E,suffix:U(),disabled:p,classes:K,classNames:i,styles:c}))});function we(e,u){const o=n.useRef([]),t=()=>{o.current.push(setTimeout(()=>{var s,m,b,l;!((s=e.current)===null||s===void 0)&&s.input&&((m=e.current)===null||m===void 0?void 0:m.input.getAttribute("type"))==="password"&&(!((b=e.current)===null||b===void 0)&&b.input.hasAttribute("value"))&&((l=e.current)===null||l===void 0||l.input.removeAttribute("value"))}))};return n.useEffect(()=>(u&&t(),()=>o.current.forEach(s=>{s&&clearTimeout(s)})),[]),t}function ye(e){return!!(e.prefix||e.suffix||e.allowClear)}var Se=globalThis&&globalThis.__rest||function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)u.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};function $e(e,u){if(!e)return;e.focus(u);const{cursor:o}=u||{};if(o){const t=e.value.length;switch(o){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t);break}}}const _e=n.forwardRef((e,u)=>{const{prefixCls:o,bordered:t=!0,status:s,size:m,disabled:b,onBlur:l,onFocus:$,suffix:v,allowClear:p,addonAfter:T,addonBefore:A,className:h,rootClassName:z,onChange:w,classNames:_}=e,k=Se(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","rootClassName","onChange","classNames"]),{getPrefixCls:K,direction:i,input:c}=d.useContext(te),a=K("input",o),I=n.useRef(null),[B,y]=le(a),{compactSize:S,compactItemClassnames:N}=be(a,i),x=ae(C=>{var R;return(R=S??m)!==null&&R!==void 0?R:C}),F=d.useContext(re),D=b??F,{status:g,hasFeedback:E,feedbackIcon:W}=n.useContext(se),M=oe(g,s),j=ye(e)||!!E,V=n.useRef(j);n.useEffect(()=>{j&&V.current,V.current=j},[j]);const H=we(I,!0),q=C=>{H(),l?.(C)},U=C=>{H(),$?.(C)},f=C=>{H(),w?.(C)},r=(E||v)&&d.createElement(d.Fragment,null,v,E&&W);let P;return typeof p=="object"&&p?.clearIcon?P=p:p&&(P={clearIcon:d.createElement(ne,null)}),B(d.createElement(he,Object.assign({ref:ve(u,I),prefixCls:a,autoComplete:c?.autoComplete},k,{disabled:D,onBlur:q,onFocus:U,suffix:r,allowClear:P,className:O(h,z,N),onChange:f,addonAfter:T&&d.createElement(ee,null,d.createElement(X,{override:!0,status:!0},T)),addonBefore:A&&d.createElement(ee,null,d.createElement(X,{override:!0,status:!0},A)),classNames:Object.assign(Object.assign({},_),{input:O({[`${a}-sm`]:x==="small",[`${a}-lg`]:x==="large",[`${a}-rtl`]:i==="rtl",[`${a}-borderless`]:!t},!j&&L(a,M),_?.input,y)}),classes:{affixWrapper:O({[`${a}-affix-wrapper-sm`]:x==="small",[`${a}-affix-wrapper-lg`]:x==="large",[`${a}-affix-wrapper-rtl`]:i==="rtl",[`${a}-affix-wrapper-borderless`]:!t},L(`${a}-affix-wrapper`,M,E),y),wrapper:O({[`${a}-group-rtl`]:i==="rtl"},y),group:O({[`${a}-group-wrapper-sm`]:x==="small",[`${a}-group-wrapper-lg`]:x==="large",[`${a}-group-wrapper-rtl`]:i==="rtl",[`${a}-group-wrapper-disabled`]:D},L(`${a}-group-wrapper`,M,E),y)}})))}),Fe=_e;var Ne=globalThis&&globalThis.__rest||function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)u.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};const Ee=n.forwardRef((e,u)=>{var{prefixCls:o,bordered:t=!0,size:s,disabled:m,status:b,allowClear:l,showCount:$,classNames:v}=e,p=Ne(e,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames"]);const{getPrefixCls:T,direction:A}=n.useContext(te),h=ae(s),z=n.useContext(re),w=m??z,{status:_,hasFeedback:k,feedbackIcon:K}=n.useContext(se),i=oe(_,b),c=n.useRef(null);n.useImperativeHandle(u,()=>{var S;return{resizableTextArea:(S=c.current)===null||S===void 0?void 0:S.resizableTextArea,focus:N=>{var x,F;$e((F=(x=c.current)===null||x===void 0?void 0:x.resizableTextArea)===null||F===void 0?void 0:F.textArea,N)},blur:()=>{var N;return(N=c.current)===null||N===void 0?void 0:N.blur()}}});const a=T("input",o);let I;typeof l=="object"&&l?.clearIcon?I=l:l&&(I={clearIcon:n.createElement(ne,null)});const[B,y]=le(a);return B(n.createElement(ge,Object.assign({},p,{disabled:w,allowClear:I,classes:{affixWrapper:O(`${a}-textarea-affix-wrapper`,{[`${a}-affix-wrapper-rtl`]:A==="rtl",[`${a}-affix-wrapper-borderless`]:!t,[`${a}-affix-wrapper-sm`]:h==="small",[`${a}-affix-wrapper-lg`]:h==="large",[`${a}-textarea-show-count`]:$},L(`${a}-affix-wrapper`,i),y)},classNames:Object.assign(Object.assign({},v),{textarea:O({[`${a}-borderless`]:!t,[`${a}-sm`]:h==="small",[`${a}-lg`]:h==="large"},L(a,i),y,v?.textarea)}),prefixCls:a,suffix:k&&n.createElement("span",{className:`${a}-textarea-suffix`},K),showCount:$,ref:c})))}),je=Ee;export{Fe as I,je as T,we as u};
