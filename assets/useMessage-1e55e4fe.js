import{r as o,q as w,s as M,c as k,v as Q,x as W,j as A,y as _,z as Y,A as J,B as V,g as Z,m as ee,K as F,k as ne,a as K,I as te,n as oe,p as ae,E as re,d as ie}from"./index-7e4a4b07.js";import{L as se}from"./LoadingOutlined-abbc5ffc.js";var H=o.forwardRef(function(e,n){var r=e.prefixCls,t=e.style,a=e.className,v=e.duration,d=v===void 0?4.5:v,S=e.eventKey,c=e.content,l=e.closable,g=e.closeIcon,p=g===void 0?"x":g,f=e.props,y=e.onClick,C=e.onNoticeClose,$=e.times,P=o.useState(!1),E=w(P,2),x=E[0],O=E[1],h=function(){C(S)},b=function(m){(m.key==="Enter"||m.code==="Enter"||m.keyCode===W.ENTER)&&h()};o.useEffect(function(){if(!x&&d>0){var i=setTimeout(function(){h()},d*1e3);return function(){clearTimeout(i)}}},[d,x,$]);var s="".concat(r,"-notice");return o.createElement("div",M({},f,{ref:n,className:k(s,a,Q({},"".concat(s,"-closable"),l)),style:t,onMouseEnter:function(){O(!0)},onMouseLeave:function(){O(!1)},onClick:y}),o.createElement("div",{className:"".concat(s,"-content")},c),l&&o.createElement("a",{tabIndex:0,className:"".concat(s,"-close"),onKeyDown:b,onClick:function(m){m.preventDefault(),m.stopPropagation(),h()}},p))}),ce=o.forwardRef(function(e,n){var r=e.prefixCls,t=r===void 0?"rc-notification":r,a=e.container,v=e.motion,d=e.maxCount,S=e.className,c=e.style,l=e.onAllRemoved,g=o.useState([]),p=w(g,2),f=p[0],y=p[1],C=function(i){var m,u=f.find(function(N){return N.key===i});u==null||(m=u.onClose)===null||m===void 0||m.call(u),y(function(N){return N.filter(function(I){return I.key!==i})})};o.useImperativeHandle(n,function(){return{open:function(i){y(function(m){var u=A(m),N=u.findIndex(function(j){return j.key===i.key}),I=_({},i);if(N>=0){var R;I.times=(((R=m[N])===null||R===void 0?void 0:R.times)||0)+1,u[N]=I}else I.times=0,u.push(I);return d>0&&u.length>d&&(u=u.slice(-d)),u})},close:function(i){C(i)},destroy:function(){y([])}}});var $=o.useState({}),P=w($,2),E=P[0],x=P[1];o.useEffect(function(){var s={};f.forEach(function(i){var m=i.placement,u=m===void 0?"topRight":m;u&&(s[u]=s[u]||[],s[u].push(i))}),Object.keys(E).forEach(function(i){s[i]=s[i]||[]}),x(s)},[f]);var O=function(i){x(function(m){var u=_({},m),N=u[i]||[];return N.length||delete u[i],u})},h=o.useRef(!1);if(o.useEffect(function(){Object.keys(E).length>0?h.current=!0:h.current&&(l?.(),h.current=!1)},[E]),!a)return null;var b=Object.keys(E);return Y.createPortal(o.createElement(o.Fragment,null,b.map(function(s){var i=E[s],m=i.map(function(N){return{config:N,key:N.key}}),u=typeof v=="function"?v(s):v;return o.createElement(J,M({key:s,className:k(t,"".concat(t,"-").concat(s),S?.(s)),style:c?.(s),keys:m,motionAppear:!0},u,{onAllRemoved:function(){O(s)}}),function(N,I){var R=N.config,j=N.className,B=N.style,T=R.key,U=R.times,X=R.className,q=R.style;return o.createElement(H,M({},R,{ref:I,prefixCls:t,className:k(j,X),style:_(_({},B),q),times:U,key:T,eventKey:T,onNoticeClose:C}))})})),a)}),le=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],ue=function(){return document.body},L=0;function fe(){for(var e={},n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return r.forEach(function(a){a&&Object.keys(a).forEach(function(v){var d=a[v];d!==void 0&&(e[v]=d)})}),e}function me(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getContainer,r=n===void 0?ue:n,t=e.motion,a=e.prefixCls,v=e.maxCount,d=e.className,S=e.style,c=e.onAllRemoved,l=V(e,le),g=o.useState(),p=w(g,2),f=p[0],y=p[1],C=o.useRef(),$=o.createElement(ce,{container:f,ref:C,prefixCls:a,motion:t,maxCount:v,className:d,style:S,onAllRemoved:c}),P=o.useState([]),E=w(P,2),x=E[0],O=E[1],h=o.useMemo(function(){return{open:function(s){var i=fe(l,s);(i.key===null||i.key===void 0)&&(i.key="rc-notification-".concat(L),L+=1),O(function(m){return[].concat(A(m),[{type:"open",config:i}])})},close:function(s){O(function(i){return[].concat(A(i),[{type:"close",key:s}])})},destroy:function(){O(function(s){return[].concat(A(s),[{type:"destroy"}])})}}},[]);return o.useEffect(function(){y(r())}),o.useEffect(function(){C.current&&x.length&&(x.forEach(function(b){switch(b.type){case"open":C.current.open(b.config);break;case"close":C.current.close(b.key);break;case"destroy":C.current.destroy();break}}),O([]))},[x]),[h,$]}const de=e=>{const{componentCls:n,iconCls:r,boxShadow:t,colorText:a,colorSuccess:v,colorError:d,colorWarning:S,colorInfo:c,fontSizeLG:l,motionEaseInOutCirc:g,motionDurationSlow:p,marginXS:f,paddingXS:y,borderRadiusLG:C,zIndexPopup:$,contentPadding:P,contentBg:E}=e,x=`${n}-notice`,O=new F("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:y,transform:"translateY(0)",opacity:1}}),h=new F("MessageMoveOut",{"0%":{maxHeight:e.height,padding:y,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),b={padding:y,textAlign:"center",[`${n}-custom-content > ${r}`]:{verticalAlign:"text-bottom",marginInlineEnd:f,fontSize:l},[`${x}-content`]:{display:"inline-block",padding:P,background:E,borderRadius:C,boxShadow:t,pointerEvents:"all"},[`${n}-success > ${r}`]:{color:v},[`${n}-error > ${r}`]:{color:d},[`${n}-warning > ${r}`]:{color:S},[`${n}-info > ${r},
      ${n}-loading > ${r}`]:{color:c}};return[{[n]:Object.assign(Object.assign({},ne(e)),{color:a,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:$,[`${n}-move-up`]:{animationFillMode:"forwards"},[`
        ${n}-move-up-appear,
        ${n}-move-up-enter
      `]:{animationName:O,animationDuration:p,animationPlayState:"paused",animationTimingFunction:g},[`
        ${n}-move-up-appear${n}-move-up-appear-active,
        ${n}-move-up-enter${n}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${n}-move-up-leave`]:{animationName:h,animationDuration:p,animationPlayState:"paused",animationTimingFunction:g},[`${n}-move-up-leave${n}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[n]:{[x]:Object.assign({},b)}},{[`${n}-notice-pure-panel`]:Object.assign(Object.assign({},b),{padding:0,textAlign:"start"})}]},z=Z("Message",e=>{const n=ee(e,{height:150});return[de(n)]},e=>({zIndexPopup:e.zIndexPopupBase+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}));function ve(e,n){return{motionName:n??`${e}-move-up`}}function ge(e){let n;const r=new Promise(a=>{n=e(()=>{a(!0)})}),t=()=>{n?.()};return t.then=(a,v)=>r.then(a,v),t.promise=r,t}var pe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const ye={info:o.createElement(te,null),success:o.createElement(oe,null),error:o.createElement(ae,null),warning:o.createElement(re,null),loading:o.createElement(se,null)};function G(e){let{prefixCls:n,type:r,icon:t,children:a}=e;return o.createElement("div",{className:k(`${n}-custom-content`,`${n}-${r}`)},t||ye[r],o.createElement("span",null,a))}function Oe(e){const{prefixCls:n,className:r,type:t,icon:a,content:v}=e,d=pe(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:S}=o.useContext(K),c=n||S("message"),[,l]=z(c);return o.createElement(H,Object.assign({},d,{prefixCls:c,className:k(r,l,`${c}-notice-pure-panel`),eventKey:"pure",duration:null,content:o.createElement(G,{prefixCls:c,type:t,icon:a},v)}))}var Ce=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const xe=8,be=3,$e=o.forwardRef((e,n)=>{const{top:r,prefixCls:t,getContainer:a,maxCount:v,duration:d=be,rtl:S,transitionName:c,onAllRemoved:l}=e,{getPrefixCls:g,getPopupContainer:p}=o.useContext(K),f=t||g("message"),[,y]=z(f),C=()=>({left:"50%",transform:"translateX(-50%)",top:r??xe}),$=()=>k(y,S?`${f}-rtl`:""),P=()=>ve(f,c),E=o.createElement("span",{className:`${f}-close-x`},o.createElement(ie,{className:`${f}-close-icon`})),[x,O]=me({prefixCls:f,style:C,className:$,motion:P,closable:!1,closeIcon:E,duration:d,getContainer:()=>a?.()||p?.()||document.body,maxCount:v,onAllRemoved:l});return o.useImperativeHandle(n,()=>Object.assign(Object.assign({},x),{prefixCls:f,hashId:y})),O});let D=0;function Ee(e){const n=o.useRef(null);return[o.useMemo(()=>{const t=c=>{var l;(l=n.current)===null||l===void 0||l.close(c)},a=c=>{if(!n.current){const b=()=>{};return b.then=()=>{},b}const{open:l,prefixCls:g,hashId:p}=n.current,f=`${g}-notice`,{content:y,icon:C,type:$,key:P,className:E,onClose:x}=c,O=Ce(c,["content","icon","type","key","className","onClose"]);let h=P;return h==null&&(D+=1,h=`antd-message-${D}`),ge(b=>(l(Object.assign(Object.assign({},O),{key:h,content:o.createElement(G,{prefixCls:g,type:$,icon:C},y),placement:"top",className:k($&&`${f}-${$}`,p,E),onClose:()=>{x?.(),b()}})),()=>{t(h)}))},d={open:a,destroy:c=>{var l;c!==void 0?t(c):(l=n.current)===null||l===void 0||l.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const l=(g,p,f)=>{let y;g&&typeof g=="object"&&"content"in g?y=g:y={content:g};let C,$;typeof p=="function"?$=p:(C=p,$=f);const P=Object.assign(Object.assign({onClose:$,duration:C},y),{type:c});return a(P)};d[c]=l}),d},[]),o.createElement($e,Object.assign({key:"message-holder"},e,{ref:n}))]}function Se(e){return Ee(e)}export{H as N,Oe as P,Se as a,Ee as b,me as u,ge as w};
